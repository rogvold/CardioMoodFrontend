<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    
    <script src="plugins/jquery-1.11.1.min.js" ></script>
    <script src="js/parse-1.2.18.min.js" ></script>
    <script src="js/custom/common.js" ></script>
    <script src="js/custom/CurrentUserManager.js" ></script>
    
</head>
<body>

<script>

    var MigrManager = function(){
        var self = this;
        this.currentUserManager = new CurrentUserManager();

        this.init = function(){
            initParse();
            self.currentUserManager.init(function(){
//                self.saveChunks();
//                self.start();
            });
        }

        this.start = function(){
            var CardioSession = Parse.Object.extend('CardioSession');
            var c = new CardioSession();
            c.set('userId', self.currentUserManager.currentUser.id);
            c.set('startTimestamp', (new Date()).getTime());
            c.set('endTimestamp', (new Date()).getTime() + 20*60*1000);
            c.set('name', 'test');
            c.set('deleted', false);
            c.save();
        }

        this.saveChunks = function(){
            var CardioDataChunk = Parse.Object.extend('CardioDataChunk');
            var c = new CardioDataChunk();
            c.set('sessionId', 'sWrZIJnYM6');
            c.set('rrs', [690,698,698,698,698,706,706,706,706,706,723,731,731,749,759,759,759,759,759,759,759,749,740,731,731,723,698,690,690,759,759,759,759,759,768,768,768,778,778,778,778,778,778,778,778,778,778,768,768,768,768,759,759,759,759,749,749,749,749,768,768,768,778,778,778,778,768,768,768,768,768,768,759,759,759,759,768,768,788,788,788,788,798,788,778,778,778,778,778,778,778,778,778,778,778,778,778,778,778,778,768,768,768,778,778,778,778,778,819,819,830,830,853,878,890,890,890,904,904,904,931,945,960,931,904,890,878,878,878,878,878,878,865,853,853,842,714,714,714,714,706,706,698,698,690,690,683,683,683,675,675,675,675,675,668,668,668,668,668,668,668,668,668,654,621,621,602,602,597,591,591,591,591,585,585,559,544,544,539,539,539,539,534,534,534,534,534,534,534,534,534,534,534,534,530,530,530,530,530,539,539,559,559,585,585,597,608,608,614,614,614,602,602,597,597,597,597,597,597,597,597,597,597,597,597,597,597,597,597,597,597,597,597,597,597,597,597,597,597,597,602,602,608,608,627,640,640,654,654,661,661,661,661,661,661,654,668,668,668,683,683,690,714,714,740,778,808,808,819,830,830,830,830,830,830,830,842,842,842,842,830,830,830,830,819,808,808,808,808,819,819,819,819,808,798,798,798,798,798,788,788,778,778,778,778,778,788,788,798,798,808,808,740,723,723,723,740,768,768,778,778,788,788,788,788,788,798,798,798,798,798,798,798,808,819,819,819,842,853,853,878,878,878,878,878,865,865,853,853,842,819]);
            c.set('times', [0,975,1999,2697,2979,3997,4703,5255,6250,6956,7252,8250,8981,9244,10242,11241,12000,12235,13234,14234,14993,16230,16239,17227,17958,19222,20219,21215,21905,259011,260034,261009,261768,262033,263008,264031,264799,265004,266600,267598,268376,268596,269594,270591,271589,272367,272585,273583,274582,275350,275578,276575,277570,278329,278570,280566,281315,282561,283558,284556,285554,286322,286550,287546,289544,290322,290541,293530,294298,294528,295296,296526,297520,298279,298521,299516,301515,302283,301515,302512,303509,304297,304505,305503,306500,307499,308277,308493,309492,310492,311270,311489,312485,313484,314262,314482,315479,316476,317254,317474,318471,319470,320238,320467,321463,322462,323240,323457,324455,325453,326450,327280,327448,328446,329444,330441,331438,332436,333434,334338,334430,335429,336424,337425,338422,339415,340416,341419,342297,342409,343409,344404,345404,346401,347254,347398,348396,349391,350105,350392,351389,352095,352386,353383,354378,355068,355379,356376,357059,357373,359365,360040,359371,360046,360365,361365,362033,362360,363358,364026,364356,366353,367021,366371,367347,367968,368347,368949,369345,370341,370932,371340,371931,372337,372922,374329,375325,375869,376327,376866,377323,377862,378320,378854,379317,379851,380316,380850,381465,381999,382311,382845,383310,383844,384494,385024,385467,386450,386980,387453,387992,388472,389031,389440,390025,390416,391443,392051,392429,393043,393429,394281,394883,396277,396874,397274,398410,399007,399416,400013,400400,400997,401425,402387,402984,403402,403999,404412,405410,406007,406412,407009,407402,407999,408373,409403,410000,410402,410999,411365,412364,412966,413386,413994,414231,415231,415871,416227,416881,417226,418357,419018,419345,420220,420881,421365,422336,423004,423337,424332,425015,425364,426204,426918,427214,428216,429365,430173,430190,431192,432186,433184,434014,434184,436177,437174,439318,440160,440295,441293,442291,443121,443155,444154,446150,446151,446959,447148,448143,449143,450140,450959,451138,452135,453144,454275,455073,455297,456250,457273,458061,458285,459236,460330,461108,461235,462272,463258,464235,465033,465234,467227,468220,469093,470270,470993,471088,472091,472859,473248,474211,475237,476202,476990,477200,478225,479198,479996,481227,482199,483186,483984,484189,485246,486187,487006,487184,488167,489045,490041,492036,492914,492045,493200,494164,495159,496194,498020,498873,499020,500018]);
            c.set('number', 1);
            c.save();
        }

    }

    $(function(){
        MM = new MigrManager();
        MM.init();
    });

</script>

</body>
</html>